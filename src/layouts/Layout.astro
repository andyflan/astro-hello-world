---
import { DateTime } from 'luxon';
import Icon from 'astro-icon';

import '../styles.css'

export interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
	<meta charSet="UTF-8" />
	<meta name="description" content="Astro description">
	<meta name="viewport" content="width=device-width, user-scalable=no" />
	<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
	<meta name="generator" content={Astro.generator} />
	<title>{title}</title>
  </head>
  <body x-data="{isMenuOpen: false}" class="overflow-x-hidden">
	<div
	  class="transition-all duration-300 min-w-full"
	  x-bind:class="{
		'ml-0': !isMenuOpen,
		'ml-64': isMenuOpen
	  }"
    >
	  <header class="flex h-16">
	  	<a
	  	  class="block w-16 h-16 cursor-pointer hover:bg-gray-100" 
	  	  @click="isMenuOpen = !isMenuOpen"
  		>
		  <Icon
			pack="lucide"
			name="menu" 
			class="w-8 h-8 m-4" 
		  />
		</a>

		<img 
		  src="/logo-sprawl.png" 
		  alt="Sprawl logo" 
		  class="h-12 m-2"
		/>

		<nav
		  x-bind:class="{
			'transition-all duration-300': true,
			'w-64 p-3 h-screen fixed bg-gray-100': true,
			'-left-64': !isMenuOpen,
			'left-0': isMenuOpen,
		  }" 		   
  		>
		  <ul>
			<li><a class="block my-3 leading-10 rounded-md hover:bg-slate-200 px-3" href="/">Home</a></li>
			<li><a class="block my-3 leading-10 rounded-md hover:bg-slate-200 px-3" href="/articles">Articles</a></li>
			<li><a class="block my-3 leading-10 rounded-md hover:bg-slate-200 px-3" href="/about">About</a></li>
		  </ul>
		</nav>
	  </header>

	  <main class="my-2 mx-6 md:mx-40">
	    <slot />
	  </main>
	  
	  <footer class="my-6 text-center">
	    <p class="text-slate-200">&copy; {DateTime.now().toFormat('yyyy')} Sprawl.</p>
	  </footer>
    </div>
  </body>
</html>