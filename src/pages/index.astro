---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const posts = await getCollection('posts');
const events = await getCollection('events');
---

<Layout title="Welcome to Sprawl">
  <div>
    <h1 class="text-xl my-6">Welcome to this website that demonstrates some stuff</h1>
    
    <div class="prose">
      <p class="my-6">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor.
      </p>
      <p class="my-6">
        Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi.
      </p>
    </div>

    <h2 class="text-lg my-6">Posts</h2>
    
    <ul>
      {
        posts.map(post => (
          <li>
            <a href={`/posts/${post.slug}`}>{post.data.title}</a>
          </li>
        ))
      }
    </ul>

    <h2 class="text-lg my-6">Upcoming events</h2>
    
    <ul>
      {
        events.map(event => (
          <li>
            <a href={`/events/${event.slug}`}>{event.data.title}</a>
          </li>
        ))
      }
    </ul>
  </div>
</Layout>
